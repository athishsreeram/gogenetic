package arch

import (
	"gogenetic/gogexec"
	"gogenetic/gogfile"

	"gogenetic/data"
)

func JavaLangArch(conf data.AutoGeneratedCli, archType string, templateFile string) {
	//4. Set Value to the CLI Stucts input

	if archType == "crud" {

		conf.Gogenetic.Crud = "java/"
		conf.Gogenetic.Crudoutput = conf.Gogenetic.OutDir + "/crud"

		gogfile.CreateFile(conf.Gogenetic.Lang, conf.Gogenetic.TomlDir, "go/proto-grpcresttemplate.tpl", conf.Gogenetic.Crudoutput)
		gogexec.MoveTo(conf.Gogenetic.Crudoutput)
		runSwagger(conf, ".")
		gogexec.MoveTo("../..")
		gogexec.RemoveFile(conf.Gogenetic.Crudoutput + "/" + conf.Gogenetic.Apiname + "-service.proto")

		gogfile.CreateFile(conf.Gogenetic.Lang, conf.Gogenetic.TomlDir, conf.Gogenetic.Crud+"docker/dockertemplate.tpl", conf.Gogenetic.Crudoutput)

		gogfile.CreateFile(conf.Gogenetic.Lang, conf.Gogenetic.TomlDir, conf.Gogenetic.Crud+"pomtemplate.tpl", conf.Gogenetic.Crudoutput)
		gogfile.CreateFile(conf.Gogenetic.Lang, conf.Gogenetic.TomlDir, conf.Gogenetic.Crud+"applicationtemplate.tpl", conf.Gogenetic.Crudoutput)
		gogfile.CreateFile(conf.Gogenetic.Lang, conf.Gogenetic.TomlDir, conf.Gogenetic.Crud+"modeltemplate.tpl", conf.Gogenetic.Crudoutput)
	}

}
